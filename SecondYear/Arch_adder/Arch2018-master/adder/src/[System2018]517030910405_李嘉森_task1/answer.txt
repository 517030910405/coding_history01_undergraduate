回答问题：
为什么超前进位加法器变快了？它到底优化了什么？
答：

设进行N位加法。
最长链的长度都是O(N)。
我觉得它主要是优化了常数。
当然可能感觉以上都是废话。

然后，我们分析：
被加数a[N-1:0],b[N-1:0]
该位是否进位c[N-1:0]
答案s[N-1:0]
我们的递推公式为：
s[i] = a[i]^b[i]^c[i-1]
c[i] = ((a[i]|b[i])&c[i-1])|(a[i]&b[i])
对于一个确定的i，以上公式相当于一个全加器
每增加一层（位），c[N-1]增加了2个逻辑门。
我们注意到最长链c[N-1]恰好经过了2N个逻辑门。

我们如果先算出：
g[15:0] = a & b
p[15:0] = a ^ b
s[i] = (a[i]^b[i])^c[i-1]
     = p[i]^c[i-1]
c[i] = ((a[i]|b[i])&c[i-1])|(a[i]&b[i])
     = ((a[i]^b[i])&c[i-1])|(a[i]&b[i])
     = (p[i]&c[i-1])|g[i]
其中算出g和p至多使最长链增加1。
然后我们可以把c全部展开。
变成一个析取范式，
之后连线和逻辑门会更加多，但是最长链会缩短，
由于它是并行的，分开算反而会缩短最长链。
算出c后，可以长度增加1来得到s。
最终最长链还是c[N-1]，长度是N+1。
我们可以先算短的合取链，合并两个短的之后，长的也算好了，就刚好可以和长的合并了。
思想：变量代换、拆分。






回答问题：

在机器学习等高性能计算场景下，CPU 已经不够用了。目前常用的硬件中竞争
最激烈的是FPGA 与ASIC。了解它们的概念并说说你认为这两者哪种更适合此
类场景，或者用什么样的硬件能做得更好。

查阅资料：
专用集成电路（英语：Application-specific integrated circuit，缩写：ASIC），是指依产品需求不同而客制化的特殊规格集成电路；相反地，非客制化的是应用特定标准产品（Application-specific standard product）集成电路。

现场可编程逻辑闸阵列（英语：Field Programmable Gate Array，缩写为FPGA），它是在PAL、GAL、CPLD等可编程逻辑器件的基础上进一步发展的产物。它是作为专用集成电路领域中的一种半定制电路而出现的，既解决了全定制电路的不足，又克服了原有可编程逻辑器件门电路数有限的缺点。

分析：
专用集成电路是由特定使用者要求和特定电子系统的需要而设计、制造。由于单个专用集成电路芯片的生产成本很高，如果出货量较小，则采用专用集成电路在经济上不太实惠。这种情况可以使用可编程逻辑器件（如现场可编程逻辑门阵列）来作为目标硬件实现集成电路设计。此外，可编程逻辑器件具有用户可编程特性，因此适合于大规模芯片量产之前的原型机，来进行调试等工作。但是可编程逻辑器件在面积、速度方面的优化程度不如全定制的集成电路。

如果是量产的卖给用户的机器学习专用集成电路，适合使用ASIC，因为短板在运算速度和体积。如果是开发者的原型机，或者商家的主机，适合使用FPGA，这样可以方便修改。